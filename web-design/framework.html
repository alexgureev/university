<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>My framework</title>

</head>
<body>
<div id="main" class="d3">
123
</div>

<div id="next" class="a1 a2" name="bla">
  <span>test</span>
</div>

<script>

  var $ = {};

  (function (object) {
    // attr, html, class
    function Decorator(obj) {
      // assign obj to state variable
      this.state = obj;

      // wrap adding event listener
      this.on = function (value, callback) {
        obj.addEventListener(value, callback);      // $.id("main").on("click", function(){alert(123)});
        return this;
      };

      // return value of class attribute
      this.getClass = function () {
        return obj.className;
      };

      // add class to object
      this.addClass = function (value) {
        obj.addClass(value);
        return this;
      };

      // remove subquery in string
      this.removeClass = function(value) {
        obj.className = obj.className
          .replace(new RegExp(' ?\\b' + value + '\\b'), '');
        return this;
      };

      // get or set attribute
      this.attr = function (name, value) {
        var attr = obj.getAttribute(name);

        if(value === undefined) {
          return attr;
        } else {
          obj.setAttribute(name, value);
          return value;
        }
      };

      // fire event
      this.trigger = function (name) {
        var event = new Event(name);
        obj.dispatchEvent(event);
      };

      // change html
      this.html = function (value) {
        if(value === undefined) {
          return obj.innerHTML;
        } else {
          obj.innerHTML = value;
        }
      };
    };

    object.id = function (a) {
      var element = document.getElementById(a);
      return new Decorator(element);
    };

    return object;
  })($)

</script>
</body>
</html>
